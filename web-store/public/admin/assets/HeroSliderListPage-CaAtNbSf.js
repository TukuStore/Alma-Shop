import{a as i,j as e,L as c,e as o,k as j,E as g,l as p,z as s}from"./index-B7VyGmnV.js";import{g as f,d as b,u as N}from"./heroSliderService-Jc4g4_1K.js";import{P as v,S as y}from"./square-pen-DGeCmu33.js";import{T as S}from"./trash-2-erq2rAW7.js";function E(){const[r,x]=i.useState([]),[l,n]=i.useState(!0),a=async()=>{n(!0);try{const t=await f();x(t)}catch(t){s.error("Failed to load hero sliders"),console.error(t)}finally{n(!1)}};i.useEffect(()=>{a()},[]);const h=async(t,u)=>{if(confirm(`Delete "${u}"? This action cannot be undone.`))try{await b(t),s.success("Slider deleted successfully"),a()}catch(d){s.error(d.message||"Failed to delete slider"),console.error(d)}},m=async t=>{try{await N(t.id,{is_active:!t.is_active}),s.success(`Slider ${t.is_active?"deactivated":"activated"}`),a()}catch{s.error("Failed to update status")}};return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"page-header mb-0",children:["Hero Sliders ",e.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["(",r.length,")"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage the promotional banners shown on the mobile app home screen."})]}),e.jsxs(c,{to:"/hero-sliders/new",className:"btn-primary",children:[e.jsx(v,{size:16})," New Slider"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Banner Image & Info"}),e.jsx("th",{children:"Sort Order"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created Date"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsxs("tbody",{children:[l&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"Loading..."})}),!l&&r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-12 text-muted-foreground",children:"No sliders found."})}),r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-12 rounded-lg overflow-hidden bg-secondary border border-border shrink-0",children:t.image_url?e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-xs text-muted-foreground flex h-full items-center justify-center",children:"No img"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-foreground text-sm uppercase tracking-wide",children:t.title}),e.jsx("span",{className:o("text-[9px] font-bold px-1.5 py-0.5 rounded-sm uppercase",t.type==="flash_sale"?"bg-orange-500/20 text-orange-500":"bg-blue-500/20 text-blue-500"),children:t.type==="flash_sale"?"Flash Sale":"Home"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-1",children:t.subtitle||"No subtitle"}),t.cta_text&&e.jsxs("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded mt-1 inline-block font-medium",children:[t.cta_text," â†’ ",t.cta_link||"#"]})]})]})}),e.jsx("td",{children:e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded bg-secondary text-sm font-medium",children:t.sort_order})}),e.jsx("td",{children:e.jsx("span",{className:o("badge",t.is_active?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30"),children:t.is_active?"Active":"Inactive"})}),e.jsx("td",{children:e.jsx("span",{className:"text-xs text-muted-foreground",children:j(t.created_at)})}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx("button",{onClick:()=>m(t),className:"btn-ghost btn-icon",title:t.is_active?"Deactivate":"Activate",children:t.is_active?e.jsx(g,{size:15}):e.jsx(p,{size:15})}),e.jsx(c,{to:`/hero-sliders/${t.id}/edit`,className:"btn-ghost btn-icon",title:"Edit",children:e.jsx(y,{size:15})}),e.jsx("button",{onClick:()=>h(t.id,t.title),className:"btn-ghost btn-icon text-destructive/70 hover:text-destructive",title:"Delete",children:e.jsx(S,{size:15})})]})})]},t.id))]})]})})]})}export{E as default};
