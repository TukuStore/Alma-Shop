import{a as s,j as e,e as b,h as N,f as v,n as y,L as S,l as C}from"./index-B7VyGmnV.js";import{g as w}from"./orderService-BwYf6Fuo.js";const P=[{label:"All",value:"all"},{label:"Pending",value:"pending"},{label:"Paid",value:"paid"},{label:"Processing",value:"processing"},{label:"Shipped",value:"shipped"},{label:"Completed",value:"completed"},{label:"Cancelled",value:"cancelled"},{label:"Returns",value:"return_requested"}];function O(){const[o,m]=s.useState([]),[l,p]=s.useState(0),[d,j]=s.useState("all"),[c,g]=s.useState(""),[a,r]=s.useState(1),[x,h]=s.useState(!0),n=20,u=s.useCallback(async()=>{h(!0);try{const{data:t,count:f}=await w({status:d,search:c,page:a,limit:n});m(t),p(f)}finally{h(!1)}},[d,c,a]);s.useEffect(()=>{u()},[u]);const i=Math.ceil(l/n);return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("h1",{className:"page-header",children:["Orders ",e.jsxs("span",{className:"text-muted-foreground text-lg font-normal",children:["(",l,")"]})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:P.map(t=>e.jsx("button",{onClick:()=>{j(t.value),r(1)},className:b("px-3 py-1.5 text-xs font-medium rounded-md whitespace-nowrap transition-colors",d===t.value?"bg-primary/20 text-primary border border-primary/30":"text-muted-foreground hover:text-foreground hover:bg-secondary"),children:t.label},t.value))}),e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(N,{size:15,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{value:c,onChange:t=>{g(t.target.value),r(1)},className:"input pl-9",placeholder:"Search by Order ID..."})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Date"}),e.jsx("th",{className:"text-right",children:"Actions"})]})}),e.jsxs("tbody",{children:[x&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-12 text-muted-foreground",children:"Loading..."})}),!x&&o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center py-12 text-muted-foreground",children:"No orders found."})}),o.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("span",{className:"font-mono text-xs text-muted-foreground",children:["#",t.id.slice(0,8).toUpperCase()]})}),e.jsxs("td",{children:[e.jsx("p",{className:"text-sm text-foreground",children:t.profile?.full_name??"Unknown"}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.profile?.phone_number??""})]}),e.jsx("td",{children:e.jsx("span",{className:"font-semibold text-sm",children:v(t.total_amount)})}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-${t.status}`,children:t.status.replace("_"," ")})}),e.jsx("td",{children:e.jsx("span",{className:"text-xs text-muted-foreground",children:y(t.created_at)})}),e.jsx("td",{className:"text-right",children:e.jsx(S,{to:`/orders/${t.id}`,className:"btn-ghost btn-icon",title:"View Details",children:e.jsx(C,{size:15})})})]},t.id))]})]})}),i>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",(a-1)*n+1,"â€“",Math.min(a*n,l)," of ",l]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(t=>Math.max(1,t-1)),disabled:a===1,className:"btn-secondary px-3 py-1.5 text-xs",children:"Prev"}),e.jsx("button",{onClick:()=>r(t=>Math.min(i,t+1)),disabled:a===i,className:"btn-secondary px-3 py-1.5 text-xs",children:"Next"})]})]})]})}export{O as default};
