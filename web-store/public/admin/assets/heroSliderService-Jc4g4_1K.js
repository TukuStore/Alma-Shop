import{s as o}from"./index-B7VyGmnV.js";async function c(){const{data:r,error:e}=await o.from("hero_sliders").select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!1});if(e)throw e;return r}async function l(r){const{data:e,error:t}=await o.from("hero_sliders").select("*").eq("id",r).single();if(t)throw t;return e}async function d(r){const{data:e,error:t}=await o.from("hero_sliders").insert(r).select().single();if(t)throw t;return e}async function u(r,e){const{data:t,error:a}=await o.from("hero_sliders").update(e).eq("id",r).select().single();if(a)throw a;return t}async function g(r){const e=o,{data:t}=await e.from("hero_sliders").select("image_url").eq("id",r).single(),{error:a}=await e.from("hero_sliders").delete().eq("id",r);if(a)throw a;if(t?.image_url)try{await i(t.image_url)}catch(s){console.warn("Failed to delete hero image:",s)}}async function f(r){const e=r.name.split(".").pop(),t=`banners/${Date.now()}_${Math.random().toString(36).substring(7)}.${e}`,{error:a}=await o.storage.from("hero-images").upload(t,r,{upsert:!0});if(a)throw a;const{data:s}=o.storage.from("hero-images").getPublicUrl(t);return s.publicUrl}async function i(r){const e=r.split("/hero-images/");if(e.length<2)return;const t=e[1];await o.storage.from("hero-images").remove([t])}export{l as a,f as b,d as c,g as d,c as g,u};
